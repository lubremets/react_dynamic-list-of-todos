{"version":3,"sources":["components/User.js","components/TodoItem.js","components/TodoList.js","App.js","index.js"],"names":["User","props","react_default","a","createElement","user","email","TodoItems","todo","title","className","completed","TodoList","_ref","todos","sortByTitleLength","sortByStatus","sortByMail","align","type","onClick","map","item","key","id","BaseUrl","getTodosWithUsers","users","_objectSpread","find","elem","userId","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getDataFromServer","asyncToGenerator","regenerator_default","mark","_callee","url","response","wrap","_context","prev","next","fetch","concat","sent","abrupt","json","stop","_x","apply","arguments","getTodosList","_callee2","todosandUser","_context2","Promise","all","loadTodos","_callee3","_context3","setState","loading","t0","t1","t2","todosWithUsers","prevState","toConsumableArray","sort","b","length","localeCompare","state","_this$state","Fragment","components_TodoList","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e7d343ce.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function User(props) {\n  return (\n    <td>{props.user.email}</td>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    email: PropTypes.string,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nexport default function TodoItems(props) {\n  return (\n    <tr>\n      <td>{props.todo.title}</td>\n      <td className={props.todo.completed ? 'active' : 'non-active'}>\n        {props.todo.completed ? 'true' : 'false'}\n      </td>\n      <User user={props.todo.user} />\n    </tr>\n  );\n}\n\nTodoItems.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    user: PropTypes.object,\n  }).isRequired,\n};\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\n\nfunction TodoList(\n  {\n    todos, sortByTitleLength, sortByStatus, sortByMail,\n  }\n) {\n  return (\n    <table align=\"center\">\n      <thead>\n        <tr>\n          <th>\n            <button type=\"button\" onClick={sortByTitleLength}>Title</button>\n          </th>\n          <th>\n            <button type=\"button\" onClick={sortByStatus}>completed</button>\n          </th>\n          <th>\n            <button type=\"button\" onClick={sortByMail}>email</button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {\n          todos.map(item => <TodoItem todo={item} key={item.id} />)\n        }\n      </tbody>\n    </table>\n  );\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n  sortByTitleLength: PropTypes.func.isRequired,\n  sortByStatus: PropTypes.func.isRequired,\n  sortByMail: PropTypes.func.isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport './App.css';\n\nimport TodoList from './components/TodoList';\n\nconst BaseUrl = 'https://jsonplaceholder.typicode.com/';\n\nfunction getTodosWithUsers(todos, users) {\n  return todos.map(item => ({\n    ...item,\n    user: users.find(elem => elem.id === item.userId),\n  }));\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      todosWithUsers: [],\n    };\n  }\n\n  getDataFromServer = async(url) => {\n    const response = await fetch(`${BaseUrl}${url}`);\n    return response.json();\n  };\n\n  getTodosList = async() => {\n    const todosandUser = await Promise.all([\n      this.getDataFromServer('todos'),\n      this.getDataFromServer('users'),\n    ]);\n\n    return getTodosWithUsers(todosandUser[0], todosandUser[1]);\n  };\n\n  loadTodos = async() => {\n    this.setState({\n      loading: true,\n    });\n    this.setState({\n      todosWithUsers: await this.getTodosList(),\n    });\n  }\n\n  sortByStatus = () => {\n    this.setState(prevState => ({\n      todosWithUsers: [...prevState.todosWithUsers].sort(\n        (a, b) => b.completed - a.completed\n      ),\n    }));\n  }\n\n  sortByTitleLength = () => {\n    this.setState(prevState => ({\n      todosWithUsers: [...prevState.todosWithUsers].sort(\n        (a, b) => b.title.length - a.title.length\n      ),\n    }));\n  }\n\n  sortByMail = () => {\n    this.setState(prevState => ({\n      todosWithUsers: [...prevState.todosWithUsers].sort(\n        (a, b) => b.user.email.localeCompare(a.user.email)\n      ),\n    }));\n  }\n\n  render() {\n    const { todosWithUsers, loading } = this.state;\n\n    return (\n      <>\n        <div className=\"App\">\n          <h1>Dynamic list of todos</h1>\n          {(loading && todosWithUsers.length === 0)\n            && 'loading...'\n          }\n          {(!loading && todosWithUsers.length === 0)\n            && <button type=\"button\" onClick={this.loadTodos}>Download</button>\n          }\n          {todosWithUsers.length !== 0\n            && (\n              <TodoList\n                todos={todosWithUsers}\n                sortByTitleLength={this.sortByTitleLength}\n                sortByStatus={this.sortByStatus}\n                sortByMail={this.sortByMail}\n              />\n            )\n          }\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}